#!/usr/local/bin/ python3
# -*- coding:utf-8 -*-
# __author__ = "zenmeder"

from math import floor
from copy import deepcopy

class Solution(object):
	def imageSmoother(self, M):
		if not M or not M[0]:
			return M
		res = deepcopy(M)
		for i in range(len(M)):
			for j in range(len(M[0])):
				neighbors = [
					M[x][y] for x in (i-1, i, i+1) for y in (j-1,j,j+1) if 0<=x<len(M) and 0<=y<len(M[0])
				]
				res[i][j] = int(sum(neighbors) // len(neighbors))
		return res

print(Solution().imageSmoother([[254,66,51,245,225,111,50,135,89,30,250,254],[210,205,236,166,99,81,110,10,80,89,160,213],[49,22,215,209,19,232,37,218,147,101,18,209],[166,37,78,18,170,235,49,172,213,27,186,101],[165,227,13,160,75,130,194,41,11,195,93,78],[174,227,242,9,111,243,104,116,74,12,92,58],[42,10,81,16,210,66,125,34,29,141,133,92],[71,27,27,127,87,215,37,151,81,93,251,241],[145,81,231,67,98,24,94,143,226,57,165,55],[213,99,197,140,125,46,116,16,36,51,226,246],[212,158,80,90,235,122,211,30,81,236,17,55],[255,84,238,103,64,163,220,214,102,202,19,116],[172,135,139,167,207,100,232,20,148,18,60,173],[37,70,127,156,69,32,141,83,185,160,248,74],[67,232,42,42,76,209,62,70,232,249,20,74],[106,177,106,42,71,205,19,80,4,157,14,154],[58,122,184,100,225,156,29,226,157,236,250,212],[83,52,183,195,33,66,244,71,187,214,156,111],[137,204,225,28,146,197,105,40,17,68,184,132],[132,188,225,46,85,252,175,6,106,57,143,218],[209,168,255,49,194,73,110,215,174,87,149,38],[229,52,252,122,61,133,88,75,247,104,173,13],[181,40,54,95,15,34,170,190,155,165,111,213],[145,15,126,9,208,17,188,49,158,65,220,198],[151,20,238,238,37,159,104,119,186,44,68,206],[40,107,29,210,129,54,147,194,80,62,51,59],[68,168,51,247,192,108,19,231,1,1,42,42],[0,65,124,102,154,97,64,39,43,249,226,46],[47,57,90,13,191,92,146,139,197,200,232,211],[79,119,115,182,160,180,220,186,246,88,237,98],[212,104,168,79,213,54,152,233,232,97,249,119],[243,187,84,179,241,58,18,155,149,44,115,125],[169,44,102,242,78,180,96,124,122,161,146,180],[132,121,224,41,97,91,108,32,228,188,242,231],[66,146,248,231,204,31,123,114,70,25,6,89],[185,207,56,122,128,106,163,42,62,160,127,202],[11,243,178,108,200,92,166,78,240,220,172,210],[97,233,147,106,38,100,118,116,132,88,14,186],[219,90,176,85,60,155,54,84,208,118,198,203],[1,213,221,34,147,177,102,193,133,77,157,67],[238,193,9,196,252,106,180,12,34,151,166,28],[130,148,129,241,172,197,227,182,12,202,241,14],[220,36,6,109,16,9,228,62,158,11,13,162]]))
